(this.webpackJsonpmoovy=this.webpackJsonpmoovy||[]).push([[0],{214:function(e,t,i){},215:function(e,t,i){"use strict";i.r(t);var n,a=i(0),r=i(44),d=i.n(r),c=i(69),o=i(60),s=i(64),m=i(132),l=i(133),p=i(16);!function(e){e.SET_TITLE="SET_TITLE",e.SET_YEAR="SET_YEAR",e.SET_PAGE="SET_PAGE"}(n||(n={}));var x,u={title:"",year:"",page:1};!function(e){e.SET_FILMS="SET_FILMS",e.SET_TOTAL_RESULTS="SET_TOTAL_RESULTS",e.SET_CONCRETE_FILM="SET_CONCRETE_FILM",e.SET_RATED_FILMS="SET_RATED_FILMS",e.SET_LAST_RATED_FILM="SET_LAST_RATED_FILM",e.SET_GENRES="SET_GENRES",e.SET_BAD_REQUEST="SET_BAD_REQUEST",e.SET_LOADER="SET_LOADER"}(x||(x={}));var h={films:[],totalResults:0,film:{},ratedFilms:[],lastRatedFilm:{},genres:[],badRequest:!1,loader:!0};var j,f={search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.SET_TITLE:return Object(p.a)(Object(p.a)({},e),{},{title:t.payload});case n.SET_YEAR:return Object(p.a)(Object(p.a)({},e),{},{year:t.payload});case n.SET_PAGE:return Object(p.a)(Object(p.a)({},e),{},{page:t.payload});default:return e}},film:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.SET_FILMS:return Object(p.a)(Object(p.a)({},e),{},{films:t.payload});case x.SET_TOTAL_RESULTS:return Object(p.a)(Object(p.a)({},e),{},{totalResults:t.payload});case x.SET_CONCRETE_FILM:return Object(p.a)(Object(p.a)({},e),{},{film:t.payload});case x.SET_RATED_FILMS:return Object(p.a)(Object(p.a)({},e),{},{ratedFilms:t.payload});case x.SET_LAST_RATED_FILM:return Object(p.a)(Object(p.a)({},e),{},{lastRatedFilm:t.payload});case x.SET_GENRES:return Object(p.a)(Object(p.a)({},e),{},{genres:t.payload});case x.SET_BAD_REQUEST:return Object(p.a)(Object(p.a)({},e),{},{badRequest:t.payload});case x.SET_LOADER:return Object(p.a)(Object(p.a)({},e),{},{loader:t.payload});default:return e}}},b=Object(s.combineReducers)(f),g=Object(s.createStore)(b,Object(m.composeWithDevTools)(Object(s.applyMiddleware)(l.a))),O=i(23),w=i(335),S=i(117),T=Object(S.a)({typography:{h1:{color:"#152D35",fontSize:"40px",textAlign:"center",marginBottom:"12px","@media (min-width: 900px)":{fontSize:"50px"},"@media (min-width: 1200px)":{textAlign:"left",marginBottom:"0"}},h2:{fontSize:"32px","@media (min-width: 375px)":{fontSize:"34px"},"@media (min-width: 414px)":{fontSize:"30px"},"@media (min-width: 450px)":{fontSize:"32px"},"@media (min-width: 500px)":{fontSize:"34px"},"@media (min-width: 900px)":{fontSize:"38px"},"@media (min-width: 1000px)":{fontSize:"46px"},"@media (min-width: 1200px)":{fontSize:"48px"},"@media (min-width: 2100px)":{fontSize:"52px"}}},components:{MuiTextField:{styleOverrides:{root:{width:"100%","& .MuiFilledInput-root":{borderRadius:"0"},"@media (min-width: 414px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"17px"}},"@media (min-width: 900px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"18px"}},"@media (min-width: 1500px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"19px"}},"@media (min-width: 2100px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"20px"}}}}},MuiPagination:{styleOverrides:{root:{padding:"14px 0 20px 0","& .Mui-selected":{backgroundColor:"#D4ECDD !important"},"@media (min-width: 600px)":{padding:"20px 0 26px 0"},"@media (min-width: 1000px)":{padding:"28px 0 30px 0"},"@media (min-width: 1800px)":{padding:"32px 0 34px 0"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#345B63","& .MuiSvgIcon-root, path":{color:"#D4ECDD !important",fontSize:28},"& .MuiButton-root":{color:"#D4ECDD !important"}}}},MuiListItemSecondaryAction:{styleOverrides:{root:{textAlign:"end",maxWidth:"80%"}}}}}),E=i(319),R=i(321),v=i(322),y=i(139),F=i.n(y),I=i(138),_=i.n(I),L=i(1),D=function(){var e=Object(O.g)();return Object(L.jsx)(E.a,{position:"static",children:Object(L.jsxs)(R.a,{children:[Object(L.jsx)(v.a,{startIcon:Object(L.jsx)(_.a,{}),size:"large",onClick:function(){return e.push("/")},children:"Home"}),Object(L.jsx)(v.a,{startIcon:Object(L.jsx)(F.a,{}),size:"large",onClick:function(){return e.push("/rated")},children:"Rated films"})]})})},z=i(296),M=i(316),C=i(295),A=i(320),B=i(140),G=i.n(B),k={setTitle:function(e){return{type:n.SET_TITLE,payload:e}},setYear:function(e){return{type:n.SET_YEAR,payload:e}},setPage:function(e){return{type:n.SET_PAGE,payload:e}},setSearchState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(i){i(k.setTitle(e)),i(k.setYear(t)),i(k.setPage(1))}}},N=i(33),H=i.n(N),W=i(11),P=i(51),Y=i(15),U=i(67),q=i(68),Q=i(142),J=i.n(Q).a.create({baseURL:"http://www.omdbapi.com/?apikey=516f988"}),V=function(){function e(){Object(U.a)(this,e)}return Object(q.a)(e,null,[{key:"fetchFilms",value:function(){var e=Object(P.a)(H.a.mark((function e(t,i,n){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("",{params:{s:t,y:i,page:n}});case 2:return a=e.sent,e.abrupt("return",[a.data.Search,a.data.totalResults]);case 4:case"end":return e.stop()}}),e)})));return function(t,i,n){return e.apply(this,arguments)}}()},{key:"fetchOneFilm",value:function(){var e=Object(P.a)(H.a.mark((function e(t){var i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.get("",{params:{i:t,plot:"full"}});case 2:return i=e.sent,e.abrupt("return",i.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"syncFilms",value:function(e,t){return 0===t.length?e.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{rating:null})})):e.map((function(e){var i=t.find((function(t){return t.imdbID===e.imdbID}));return i?Object(p.a)(Object(p.a)({},e),{},{rating:i.rating}):Object(p.a)(Object(p.a)({},e),{},{rating:null})}))}},{key:"findFilm",value:function(e,t){return e.find((function(e){return e.imdbID===t}))}},{key:"updateRatedFilms",value:function(e,t,i){return e.map((function(e){return e.imdbID===t?Object(p.a)(Object(p.a)({},e),{},{rating:i}):e}))}},{key:"addOrUpdatedRatedFilm",value:function(t,i,n,a){return t.some((function(e){return e.imdbID===i.imdbID}))?e.updateRatedFilms(t,n,a):[].concat(Object(Y.a)(t),[i])}},{key:"deleteRatedFilm",value:function(e,t){return e.filter((function(e){return e.imdbID!==t}))}}]),e}(),K={setFilms:function(e){return{type:x.SET_FILMS,payload:e}},setTotalResults:function(e){return{type:x.SET_TOTAL_RESULTS,payload:e}},setFilm:function(e){return{type:x.SET_CONCRETE_FILM,payload:e}},setRatedFilms:function(e){return{type:x.SET_RATED_FILMS,payload:e}},setLastRatedFilm:function(e){return{type:x.SET_LAST_RATED_FILM,payload:e}},setGenres:function(e){return{type:x.SET_GENRES,payload:e}},setBadRequest:function(e){return{type:x.SET_BAD_REQUEST,payload:e}},setLoader:function(e){return{type:x.SET_LOADER,payload:e}},fetchFilms:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return function(){var a=Object(P.a)(H.a.mark((function a(r){var d,c,o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,V.fetchFilms(e,t,i);case 3:d=a.sent,c=Object(W.a)(d,2),o=c[0],s=c[1],r(K.setFilms(V.syncFilms(o,n))),r(K.setTotalResults(+s)),r(K.setLoader(!0)),a.next=18;break;case 12:a.prev=12,a.t0=a.catch(0),r(K.setFilms([])),r(K.setTotalResults(0)),r(K.setBadRequest(!0)),r(K.setLoader(!0));case 18:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()},fetchFilm:function(e,t){return function(){var i=Object(P.a)(H.a.mark((function i(n){var a,r;return H.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,n(K.setLoader(!1)),i.next=4,V.fetchOneFilm(e);case 4:a=i.sent,r=V.findFilm(t,e),a.rating=r?r.rating:null,n(K.setFilm(a)),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),n(K.setLoader(!0));case 13:case"end":return i.stop()}}),i,null,[[0,10]])})));return function(e){return i.apply(this,arguments)}}()},setFilmRating:function(e,t,i,n){return function(){var a=Object(P.a)(H.a.mark((function a(r){var d,c,o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=V.findFilm(t,i))){a.next=8;break}c.rating=n,d=n?V.updateRatedFilms(t,i,n):V.deleteRatedFilm(t,i),r(K.setFilms(V.syncFilms(e,d))),r(K.setLastRatedFilm(c)),a.next=15;break;case 8:return(o=V.findFilm(e,i))&&(o.rating=n,d=V.addOrUpdatedRatedFilm(t,o,i,n),r(K.setFilms(V.syncFilms(e,d)))),a.next=12,V.fetchOneFilm(i);case 12:(s=a.sent).rating=n,d=V.addOrUpdatedRatedFilm(t,s,i,n);case 15:r(K.setRatedFilms(d));case 16:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setCurrentGenres:function(e){return function(t){var i=Array.from(new Set(e.map((function(e){return e.Genre.split(", ")})).flat())).sort();t(K.setGenres(i))}}},X=Object(p.a)(Object(p.a)({},k),K),Z=function(){var e=Object(c.b)();return Object(s.bindActionCreators)(X,e)},$=c.c,ee=i(306),te=Object(ee.a)({wrapper:{paddingTop:"30px","@media (min-width: 500px)":{padding:"0 40px"},"@media (min-width: 750px)":{padding:"0 60px"}},maxWidth:{maxWidth:"1200px","@media (min-width: 2100px)":{maxWidth:"1400px"}}}),ie=i(323),ne=i(310),ae=i(294),re={mobileImage:{width:"100vw",marginBottom:"4px",position:"static"},image:{borderRadius:"12px",width:"100%",position:"static"},content:{padding:"10px"},list:{"& li":{borderBottom:"solid 1px #345B63",borderRadius:"3%"},"& li, span":{padding:"4px 0",fontSize:"16px","@media (min-width: 414px)":{fontSize:"11px"},"@media (min-width: 428px)":{fontSize:"12px"},"@media (min-width: 450px)":{fontSize:"13px"},"@media (min-width: 470px)":{padding:"5px 0"},"@media (min-width: 520px)":{padding:"6px 0"},"@media (min-width: 540px)":{fontSize:"14px"},"@media (min-width: 750px)":{fontSize:"15px"},"@media (min-width: 900px)":{fontSize:"19px"},"@media (min-width: 1000px)":{fontSize:"20px"},"@media (min-width: 1200px)":{fontSize:"16px"},"@media (min-width: 2100px)":{fontSize:"21px"}},"@media (min-width: 414px)":{padding:"0 0 0 10px"},"@media (min-width: 600px)":{padding:0}},plot:{fontSize:"18px",lineHeight:1.5,"@media (min-width: 375px)":{fontSize:"19px",lineHeight:1.6},"@media (min-width: 414px)":{padding:"14px 4px"},"@media (min-width: 500px)":{fontSize:"21px",lineHeight:1.8},"@media (min-width: 600px)":{fontSize:"20px",marginTop:"30px",padding:0},"@media (min-width: 900px)":{fontSize:"22px",lineHeight:1.9},"@media (min-width: 1000px)":{fontSize:"23px",lineHeight:2},"@media (min-width: 2100px)":{fontSize:"25px"}},ratingBox:{marginTop:"2px",marginBottom:"10px","& .MuiRating-icon":{fontSize:"30px"},"@media (min-width: 414px)":{marginTop:"4px","& .MuiRating-icon":{fontSize:"34px"}},"@media (min-width: 428px)":{"& .MuiRating-icon":{fontSize:"36px"}},"@media (min-width: 500px)":{"& .MuiRating-icon":{fontSize:"40px"}},"@media (min-width: 600px)":{marginBottom:"16px"},"@media (min-width: 900px)":{marginBottom:"24px"},"@media (min-width: 1200px)":{"& .MuiRating-icon":{fontSize:"46px"}},"@media (min-width: 2100px)":{"& .MuiRating-icon":{fontSize:"52px"}}},normalContainer:{padding:"10px"}},de=function(e){var t=e.film;return Object(L.jsxs)(ie.a,{sx:re.list,children:[Object(L.jsx)(ne.a,{disableGutters:!0,secondaryAction:t.Year,children:Object(L.jsx)(ae.a,{children:"Year"})}),Object(L.jsx)(ne.a,{disableGutters:!0,secondaryAction:t.Country,children:Object(L.jsx)(ae.a,{children:"Country"})}),Object(L.jsx)(ne.a,{className:"genre",disableGutters:!0,secondaryAction:t.Genre,children:Object(L.jsx)(ae.a,{children:"Genre"})}),Object(L.jsx)(ne.a,{disableGutters:!0,secondaryAction:t.Runtime,children:Object(L.jsx)(ae.a,{children:"Runtime"})}),Object(L.jsx)(ne.a,{disableGutters:!0,secondaryAction:t.Director,children:Object(L.jsx)(ae.a,{children:"Director"})}),Object(L.jsx)(ne.a,{className:"actors",disableGutters:!0,secondaryAction:t.Actors,children:Object(L.jsx)(ae.a,{children:"Actors"})}),Object(L.jsx)(ne.a,{disableGutters:!0,secondaryAction:t.imdbRating,children:Object(L.jsx)(ae.a,{children:"IMDb Rating"})})]})},ce=i(311),oe=i(103),se=function(e){var t=e.film,i=e.handleRatingChange;return Object(L.jsxs)(C.a,{children:[t.hasOwnProperty("rating")&&Object(L.jsx)(C.a,{sx:re.ratingBox,children:Object(L.jsx)(ce.a,{onChange:i,value:t.rating})}),Object(L.jsx)(oe.a,{variant:"h2",children:t.Title})]})},me=i(324),le=function(){return Object(L.jsx)(M.a,{container:!0,alignItems:"center",justifyContent:"center",flexGrow:1,children:Object(L.jsx)(me.a,{})})},pe=function(){var e=$((function(e){return e.film})),t=e.film,i=e.films,n=e.ratedFilms,r=e.loader,d=Z(),c=d.fetchFilm,o=d.setFilm,s=d.setFilmRating,m=d.setLoader,l=Object(O.i)().imdbId;Object(a.useEffect)((function(){return t.imdbID||c(l,n),function(){o({}),m(!0)}}),[]);var x=function(e,a){o(Object(p.a)(Object(p.a)({},t),{},{rating:a})),s(i,n,t.imdbID,a)},u=Object(z.a)("(min-width: 414px)"),h=Object(z.a)("(min-width: 600px)"),j=te();return r?Object(L.jsx)(le,{}):Object(L.jsx)(M.a,{container:!0,justifyContent:"center",children:Object(L.jsxs)(M.a,{container:!0,direction:"row",className:j.maxWidth,sx:u?re.normalContainer:void 0,children:[Object(L.jsxs)(M.a,{item:!0,xs:u?6:12,sm:5,md:4,lg:3,sx:{flexDirection:"column"},children:[Object(L.jsx)(G.a,{src:t.Poster,alt:t.Title,style:{paddingTop:0},imageStyle:u?re.image:re.mobileImage}),(!u||h)&&Object(L.jsxs)(C.a,{sx:re.content,children:[(!u||!h)&&Object(L.jsx)(se,{film:t,handleRatingChange:x}),Object(L.jsx)(de,{film:t})]})]}),u&&!h&&Object(L.jsx)(M.a,{item:!0,xs:6,children:Object(L.jsx)(de,{film:t})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{flexDirection:"column","@media (min-width: 600px)":{padding:"0 10px"},"@media (min-width: 900px)":{padding:"0 36px"},"@media (min-width: 1200px)":{padding:"0 40px"}},children:Object(L.jsxs)(C.a,{sx:re.content,children:[u&&Object(L.jsx)(se,{film:t,handleRatingChange:x}),Object(L.jsx)(A.a,{elevation:0,sx:re.plot,children:t.Plot})]})})]})})},xe=i(325),ue=i(330),he=i(305),je=i(302),fe=i(304),be={searchBar:{backgroundColor:"#D4ECDD",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",paddingTop:"30px !important","@media (min-width: 500px)":{marginBottom:"30px"},"@media (min-width: 1200px)":{paddingTop:"80px !important"},"@media (min-width: 1800px)":{marginBottom:"40px"},"@media (min-width: 2100px)":{marginBottom:"50px"}},titleInput:{"& .MuiFilledInput-root":{borderTopLeftRadius:"12px",borderTopRightRadius:"12px","@media (min-width: 600px)":{borderTopRightRadius:0}}},yearInput:{"@media (min-width: 600px)":{"& .MuiFilledInput-root":{borderLeft:"solid 1px rgba(0, 0, 0, 0.42)",borderTopRightRadius:"12px"}},"@media (min-width: 900px)":{"& .MuiFilledInput-root":{borderTopRightRadius:0}}},buttonGroup:{height:"56px",width:"100%","& .MuiButton-root":{borderRadius:0,color:"#D4ECDD !important",flex:1}},searchBtn:{borderBottomLeftRadius:"12px !important","@media (min-width: 900px)":{borderBottomLeftRadius:"0 !important"}},resetBtn:{borderBottomRightRadius:"12px !important"}},ge=function(e){var t=e.handleSearch,i=Z(),n=i.setFilms,r=i.setTotalResults,d=i.setBadRequest,c=i.setLoader,o=Object(a.useState)(""),s=Object(W.a)(o,2),m=s[0],l=s[1],x=Object(a.useState)(null),u=Object(W.a)(x,2),h=u[0],j=u[1],f=te();return Object(L.jsx)(M.a,{className:f.wrapper,container:!0,justifyContent:"center",sx:be.searchBar,children:Object(L.jsxs)(M.a,{className:f.maxWidth,container:!0,alignItems:"center",justifyContent:"center",children:[Object(L.jsx)(M.a,{item:!0,xs:12,lg:2,children:Object(L.jsx)(oe.a,{variant:"h1",children:"MOOVY"})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:8,md:7,lg:5,children:Object(L.jsx)(xe.a,{variant:"filled",color:"success",label:"Title",placeholder:"Type in film title",onChange:function(e){return l(e.target.value)},value:m,sx:be.titleInput})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:4,md:2,children:Object(L.jsx)(je.b,{dateAdapter:he.a,children:Object(L.jsx)(fe.a,{views:["year"],maxDate:new Date,label:"Year",onChange:function(e){return j(e)},value:h,renderInput:function(e){return Object(L.jsx)(xe.a,Object(p.a)({variant:"filled",color:"success",sx:be.yearInput},e))}})})}),Object(L.jsx)(M.a,{item:!0,xs:12,md:3,children:Object(L.jsxs)(ue.a,{sx:be.buttonGroup,children:[Object(L.jsx)(v.a,{variant:"contained",color:"success",sx:be.searchBtn,onClick:function(){return t(m,h)},children:"Search"}),Object(L.jsx)(v.a,{variant:"contained",color:"error",sx:be.resetBtn,onClick:function(){l(""),j(null),n([]),r(0),d(!1),c(!0)},children:"Reset"})]})})]})})},Oe=i(334),we=i(331),Se=i(333),Te=i(332),Ee={card:{display:"flex",borderRadius:"12px",marginBottom:1,"@media (min-width: 1200px)":{marginBottom:0},maxHeight:"300px"},filmImage:{cursor:"pointer",flex:"1 0 130px",height:200,width:130,maxWidth:130,"@media (min-width: 320px)":{flex:"1 0 138px",width:138,maxWidth:138},"@media (min-width: 900px)":{flex:"1 0 160px",height:230,width:160,maxWidth:160},"@media (min-width: 1200px)":{flex:"1 0 180px",height:250,width:180,maxWidth:180},"@media (min-width: 1800px)":{flex:"1 0 210px",height:280,width:210,maxWidth:210},"@media (min-width: 2100px)":{flex:"1 0 220px",height:300,width:220,maxWidth:220}},content:{flex:"1 0 auto",padding:"12px 12px 0 12px","& .MuiTypography-root":{overflow:"auto",maxHeight:118,"@media (min-width: 1200px)":{maxHeight:140},"@media (min-width: 1800px)":{maxHeight:160},"@media (min-width: 2100px)":{maxHeight:190}},"@media (min-width: 320px)":{padding:"16px 16px 0 16px"}},contentWithGenre:{flex:"1 0 auto",padding:"12px 12px 0 12px","& .MuiTypography-root":{overflow:"auto",maxHeight:98,"@media (min-width: 375px)":{maxHeight:90},"@media (min-width: 1200px)":{maxHeight:130},"@media (min-width: 1800px)":{maxHeight:150},"@media (min-width: 2100px)":{maxHeight:170}},"@media (min-width: 320px)":{padding:"16px 16px 0 16px"}},filmName:{cursor:"pointer",fontSize:21,"@media (min-width: 375px)":{fontSize:23},"@media (min-width: 414px)":{fontSize:25},"@media (min-width: 900px)":{fontSize:27},"@media (min-width: 1200px)":{fontSize:29},"@media (min-width: 1800px)":{fontSize:36}},filmYear:{marginTop:"1px","@media (min-width: 320px)":{marginTop:"3px"},"@media (min-width: 375px)":{marginTop:"6px"},"@media (min-width: 414px)":{fontSize:"18px"},"@media (min-width: 900px)":{fontSize:"19px"},"@media (min-width: 1200px)":{fontSize:"20px"},"@media (min-width: 1800px)":{fontSize:"23px"},"@media (min-width: 2100px)":{fontSize:"24px"}},filmGenre:{lineHeight:1.4},ratingBox:{paddingBottom:"6px",paddingLeft:"10px","@media (min-width: 320px)":{paddingLeft:"12px"}}},Re=function(e){var t=e.film,i=$((function(e){return e.film})),n=i.films,a=i.ratedFilms,r=Z(),d=r.setFilmRating,c=r.fetchFilm,o=Object(z.a)("(min-width: 375px)"),s=Object(z.a)("(min-width: 1200px)"),m=Object(O.g)(),l=function(){var e=Object(P.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(t.imdbID,a);case 2:m.push("/film/".concat(t.imdbID));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(L.jsxs)(we.a,{sx:Ee.card,children:[Object(L.jsx)(Te.a,{component:"img",image:t.Poster,alt:t.Title,onClick:l,sx:Ee.filmImage}),Object(L.jsxs)(C.a,{sx:{display:"flex",flexDirection:"column",overflow:"auto"},children:[Object(L.jsxs)(Se.a,{sx:t.hasOwnProperty("Genre")?Ee.contentWithGenre:Ee.content,children:[Object(L.jsx)(oe.a,{variant:"h3",sx:Ee.filmName,onClick:l,children:t.Title}),Object(L.jsx)(oe.a,{variant:"subtitle1",component:"div",sx:Ee.filmYear,children:t.Year}),Object(L.jsx)(oe.a,{variant:"subtitle1",component:"div",sx:Ee.filmGenre,children:t.hasOwnProperty("Genre")?t.Genre:""})]}),Object(L.jsx)(C.a,{sx:Ee.ratingBox,children:Object(L.jsx)(ce.a,{size:o&&!s?"medium":s?"large":"small",onChange:function(e,i){return d(n,a,t.imdbID,i)},value:t.rating})})]})]})},ve={grid:{padding:"0 10px","& .MuiGrid-root":{maxWidth:"100%"},"@media (min-width: 414px)":{padding:"0 14px"},"@media (min-width: 500px)":{padding:0}},loader:{marginTop:"10px","@media (min-width: 500px)":{marginTop:"-15px",marginBottom:"30px"}}},ye=function(e){var t=e.films,i=e.film,n=e.loader,a=e.sx,r=Object(z.a)("(min-width:900px)"),d=Object(z.a)("(min-width:1800px)"),c=te();return Object(L.jsxs)(L.Fragment,{children:[!n&&!i.imdbID&&Object(L.jsx)(C.a,{sx:ve.loader,children:Object(L.jsx)(Oe.a,{color:"success"})}),Object(L.jsx)(M.a,{className:c.wrapper,container:!0,justifyContent:"center",sx:a,children:Object(L.jsx)(M.a,{className:r?c.maxWidth:void 0,container:!0,direction:r?"row":"column",spacing:d?3:2,sx:ve.grid,children:t.map((function(e){return Object(L.jsx)(M.a,{item:!0,md:6,children:Object(L.jsx)(Re,{film:e})},Math.random())}))})})]})},Fe=i(308),Ie=function(e){var t=e.page,i=e.totalResults,n=e.handlePaginationClick,a=Object(z.a)("(min-width: 375px)"),r=Object(z.a)("(min-width: 600px)"),d=Object(z.a)("(min-width: 1000px)");return Object(L.jsx)(M.a,{container:!0,justifyContent:"center",children:Object(L.jsx)(Fe.a,{count:Math.ceil(i/10),size:a&&!r?"medium":r?"large":"small",boundaryCount:d?3:1,onChange:n,page:t})})},_e=i(303),Le=i(146),De=i.n(Le),ze=i(145),Me=i.n(ze),Ce=function(e){var t=e.badRequest;return Object(L.jsx)(M.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{flexGrow:1},children:Object(L.jsxs)(_e.a,{display:"flex",flexDirection:"column",children:[t?Object(L.jsx)(Me.a,{sx:{fontSize:"120px",margin:"0 auto","@media (min-width: 900px)":{fontSize:"150px"}}}):Object(L.jsx)(De.a,{sx:{fontSize:"120px",margin:"0 auto","@media (min-width: 900px)":{fontSize:"150px"}}}),Object(L.jsx)(oe.a,{variant:"h2",children:t?"No results found":"Start searching"})]})})},Ae=function(){var e=$((function(e){return e.film})),t=e.films,i=e.totalResults,n=e.ratedFilms,r=e.badRequest,d=e.film,c=e.loader,o=$((function(e){return e.search})),s=o.title,m=o.year,l=o.page,p=Z(),x=p.fetchFilms,u=p.setSearchState,h=p.setPage,j=p.setLoader;return Object(a.useEffect)((function(){j(!0)}),[]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(ge,{handleSearch:function(e,t){j(!1),u(e,null===t||void 0===t?void 0:t.getFullYear().toString()),x(e,null===t||void 0===t?void 0:t.getFullYear().toString(),l,n)}}),c&&!r&&0===t.length?Object(L.jsx)(Ce,{badRequest:!1}):r&&0===t.length?Object(L.jsx)(Ce,{badRequest:!0}):c||r||0!==t.length?Object(L.jsx)(ye,{films:t,film:d,loader:c}):Object(L.jsx)(le,{}),i>10&&Object(L.jsx)(Ie,{page:l,totalResults:i,handlePaginationClick:function(e,t){l!==t&&(x(s,m,t,n),h(t))}})]})},Be=i(312),Ge=i(314),ke=i(329),Ne=i(328),He=i(307),We={formControl:{width:"100% !important",padding:"0 10px","& #genre-label":{marginLeft:"10px"},"@media (min-width: 500px)":{marginTop:"12px",marginBottom:"18px",padding:0,"& #genre-label":{marginLeft:0}},"@media (min-width: 1000px)":{marginTop:"26px",marginBottom:"32px"},"@media (min-width: 1500px)":{marginTop:"30px",marginBottom:"36px"},"@media (min-width: 1800px)":{marginTop:"40px",marginBottom:"44px"},"@media (min-width: 2500px)":{marginTop:"46px",marginBottom:"50px"}}},Pe=function(e){var t=e.genre,i=e.genres,n=e.handleSelectChange,a=te();return Object(L.jsx)(M.a,{className:a.wrapper,container:!0,justifyContent:"center",children:Object(L.jsx)(M.a,{className:a.maxWidth,container:!0,children:Object(L.jsxs)(Ne.a,{sx:We.formControl,children:[Object(L.jsx)(Be.a,{id:"genre-label",children:"Genre"}),Object(L.jsxs)(He.a,{labelId:"genre-label",label:"Genre",onChange:n,value:t,children:[Object(L.jsx)(Ge.a,{value:"",children:Object(L.jsx)("em",{children:"None"})}),i.map((function(e){return Object(L.jsx)(Ge.a,{value:e,children:e},e)}))]}),Object(L.jsx)(ke.a,{children:"Select film genre"})]})})})},Ye=function(){var e=$((function(e){return e.film})),t=e.ratedFilms,i=e.genres,n=e.lastRatedFilm,r=e.films,d=e.film,c=e.loader,o=Z(),s=o.setCurrentGenres,m=o.setRatedFilms,l=o.setLastRatedFilm,p=o.setFilms,x=Object(a.useRef)(t),u=Object(a.useState)(""),h=Object(W.a)(u,2),j=h[0],f=h[1];Object(a.useEffect)((function(){var e;n&&(n.rating?e=x.current.map((function(e){return e.imdbID===n.imdbID?n:e})):(e=x.current.filter((function(e){return e.imdbID!==n.imdbID})),s(e),0===t.length&&f("")),x.current=e)}),[n]),Object(a.useEffect)((function(){return l({}),s(x.current),function(){m(x.current),p(V.syncFilms(r,x.current)),l({})}}),[]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Pe,{genre:j,genres:i,handleSelectChange:function(e){var t=e.target.value;if(f(t),t){var i=x.current.filter((function(e){if(e.Genre.split(", ").includes(t))return e}));return m(i)}return m(x.current)}}),Object(L.jsx)(ye,{films:t,film:d,loader:c,sx:{paddingBottom:"30px !important"}})]})};!function(e){e.HOME="/",e.FILM="/film/:imdbId",e.RATED="/rated"}(j||(j={}));var Ue=[{path:j.HOME,component:Ae,exact:!0},{path:j.FILM,component:pe},{path:j.RATED,component:Ye,exact:!0}],qe=function(){return Object(L.jsxs)(O.d,{children:[Ue.map((function(e){return Object(L.jsx)(O.b,Object(p.a)({},e),e.path)})),Object(L.jsx)(O.a,{to:j.HOME})]})},Qe=function(){var e=Object(O.h)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[e]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(w.a,{theme:T,children:[Object(L.jsx)(D,{}),Object(L.jsx)(qe,{})]})})};i(214);d.a.render(Object(L.jsx)(c.a,{store:g,children:Object(L.jsx)(o.a,{children:Object(L.jsx)(Qe,{})})}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.80f83952.chunk.js.map