(this.webpackJsonpmoovy=this.webpackJsonpmoovy||[]).push([[0],{214:function(t,e,i){},215:function(t,e,i){"use strict";i.r(e);var n,a=i(0),r=i(44),d=i.n(r),c=i(69),o=i(60),s=i(64),m=i(132),p=i(133),l=i(16);!function(t){t.SET_TITLE="SET_TITLE",t.SET_YEAR="SET_YEAR",t.SET_PAGE="SET_PAGE"}(n||(n={}));var x,u={title:"",year:"",page:1};!function(t){t.SET_FILMS="SET_FILMS",t.SET_TOTAL_RESULTS="SET_TOTAL_RESULTS",t.SET_CONCRETE_FILM="SET_CONCRETE_FILM",t.SET_RATED_FILMS="SET_RATED_FILMS",t.SET_LAST_RATED_FILM="SET_LAST_RATED_FILM",t.SET_GENRES="SET_GENRES",t.SET_BAD_REQUEST="SET_BAD_REQUEST",t.SET_LOADER="SET_LOADER"}(x||(x={}));var h={films:[],totalResults:0,film:{},ratedFilms:[],lastRatedFilm:{},genres:[],badRequest:!1,loader:!0};var j,f={search:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case n.SET_TITLE:return Object(l.a)(Object(l.a)({},t),{},{title:e.payload});case n.SET_YEAR:return Object(l.a)(Object(l.a)({},t),{},{year:e.payload});case n.SET_PAGE:return Object(l.a)(Object(l.a)({},t),{},{page:e.payload});default:return t}},film:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.SET_FILMS:return Object(l.a)(Object(l.a)({},t),{},{films:e.payload});case x.SET_TOTAL_RESULTS:return Object(l.a)(Object(l.a)({},t),{},{totalResults:e.payload});case x.SET_CONCRETE_FILM:return Object(l.a)(Object(l.a)({},t),{},{film:e.payload});case x.SET_RATED_FILMS:return Object(l.a)(Object(l.a)({},t),{},{ratedFilms:e.payload});case x.SET_LAST_RATED_FILM:return Object(l.a)(Object(l.a)({},t),{},{lastRatedFilm:e.payload});case x.SET_GENRES:return Object(l.a)(Object(l.a)({},t),{},{genres:e.payload});case x.SET_BAD_REQUEST:return Object(l.a)(Object(l.a)({},t),{},{badRequest:e.payload});case x.SET_LOADER:return Object(l.a)(Object(l.a)({},t),{},{loader:e.payload});default:return t}}},b=Object(s.combineReducers)(f),g=Object(s.createStore)(b,Object(m.composeWithDevTools)(Object(s.applyMiddleware)(p.a))),O=i(21),w=i(333),S=i(117),T=Object(S.a)({typography:{h1:{color:"#152D35",fontSize:"40px",textAlign:"center",marginBottom:"12px","@media (min-width: 900px)":{fontSize:"50px"},"@media (min-width: 1200px)":{textAlign:"left",marginBottom:"0"}},h2:{fontSize:"32px","@media (min-width: 375px)":{fontSize:"34px"},"@media (min-width: 414px)":{fontSize:"30px"},"@media (min-width: 450px)":{fontSize:"32px"},"@media (min-width: 500px)":{fontSize:"34px"},"@media (min-width: 900px)":{fontSize:"38px"},"@media (min-width: 1000px)":{fontSize:"46px"},"@media (min-width: 1200px)":{fontSize:"48px"},"@media (min-width: 2100px)":{fontSize:"52px"}}},components:{MuiTextField:{styleOverrides:{root:{width:"100%","& .MuiFilledInput-root":{borderRadius:"0"},"@media (min-width: 414px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"17px"}},"@media (min-width: 900px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"18px"}},"@media (min-width: 1500px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"19px"}},"@media (min-width: 2100px)":{"& .MuiInputLabel-root, .MuiFilledInput-input":{fontSize:"20px"}}}}},MuiPagination:{styleOverrides:{root:{padding:"14px 0 20px 0","& .Mui-selected":{backgroundColor:"#D4ECDD !important"},"@media (min-width: 600px)":{padding:"20px 0 26px 0"},"@media (min-width: 1000px)":{padding:"28px 0 30px 0"},"@media (min-width: 1800px)":{padding:"32px 0 34px 0"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#345B63","& .MuiSvgIcon-root, path":{color:"#D4ECDD !important",fontSize:28},"& .MuiButton-root":{color:"#D4ECDD !important"}}}},MuiListItemSecondaryAction:{styleOverrides:{root:{textAlign:"end",maxWidth:"80%"}}}}}),R=i(318),E=i(320),v=i(321),y=i(139),F=i.n(y),I=i(138),_=i.n(I),L=i(1),D=function(){var t=Object(O.g)();return Object(L.jsx)(R.a,{position:"static",children:Object(L.jsxs)(E.a,{children:[Object(L.jsx)(v.a,{startIcon:Object(L.jsx)(_.a,{}),size:"large",onClick:function(){return t.push("/")},children:"Home"}),Object(L.jsx)(v.a,{startIcon:Object(L.jsx)(F.a,{}),size:"large",onClick:function(){return t.push("/rated")},children:"Rated films"})]})})},z=i(295),M=i(315),C=i(294),A=i(319),B=i(140),G=i.n(B),k={setTitle:function(t){return{type:n.SET_TITLE,payload:t}},setYear:function(t){return{type:n.SET_YEAR,payload:t}},setPage:function(t){return{type:n.SET_PAGE,payload:t}},setSearchState:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(i){i(k.setTitle(t)),i(k.setYear(e)),i(k.setPage(1))}}},N=i(32),H=i.n(N),W=i(11),P=i(51),Y=i(15),U=i(67),q=i(68),Q=i(142),J=i.n(Q).a.create({baseURL:"http://www.omdbapi.com/?apikey=516f988"}),V=function(){function t(){Object(U.a)(this,t)}return Object(q.a)(t,null,[{key:"fetchFilms",value:function(){var t=Object(P.a)(H.a.mark((function t(e,i,n){var a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.get("",{params:{s:e,y:i,page:n}});case 2:return a=t.sent,t.abrupt("return",[a.data.Search,a.data.totalResults]);case 4:case"end":return t.stop()}}),t)})));return function(e,i,n){return t.apply(this,arguments)}}()},{key:"fetchOneFilm",value:function(){var t=Object(P.a)(H.a.mark((function t(e){var i;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.get("",{params:{i:e,plot:"full"}});case 2:return i=t.sent,t.abrupt("return",i.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"syncFilms",value:function(t,e){return 0===e.length?t.map((function(t){return Object(l.a)(Object(l.a)({},t),{},{rating:null})})):t.map((function(t){var i=e.find((function(e){return e.imdbID===t.imdbID}));return i?Object(l.a)(Object(l.a)({},t),{},{rating:i.rating}):Object(l.a)(Object(l.a)({},t),{},{rating:null})}))}},{key:"findFilm",value:function(t,e){return t.find((function(t){return t.imdbID===e}))}},{key:"updateRatedFilms",value:function(t,e,i){return t.map((function(t){return t.imdbID===e?Object(l.a)(Object(l.a)({},t),{},{rating:i}):t}))}},{key:"addOrUpdatedRatedFilm",value:function(e,i,n,a){return e.some((function(t){return t.imdbID===i.imdbID}))?t.updateRatedFilms(e,n,a):[].concat(Object(Y.a)(e),[i])}},{key:"deleteRatedFilm",value:function(t,e){return t.filter((function(t){return t.imdbID!==e}))}}]),t}(),K={setFilms:function(t){return{type:x.SET_FILMS,payload:t}},setTotalResults:function(t){return{type:x.SET_TOTAL_RESULTS,payload:t}},setFilm:function(t){return{type:x.SET_CONCRETE_FILM,payload:t}},setRatedFilms:function(t){return{type:x.SET_RATED_FILMS,payload:t}},setLastRatedFilm:function(t){return{type:x.SET_LAST_RATED_FILM,payload:t}},setGenres:function(t){return{type:x.SET_GENRES,payload:t}},setBadRequest:function(t){return{type:x.SET_BAD_REQUEST,payload:t}},setLoader:function(t){return{type:x.SET_LOADER,payload:t}},fetchFilms:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return function(){var a=Object(P.a)(H.a.mark((function a(r){var d,c,o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,V.fetchFilms(t,e,i);case 3:d=a.sent,c=Object(W.a)(d,2),o=c[0],s=c[1],r(K.setFilms(V.syncFilms(o,n))),r(K.setTotalResults(+s)),a.next=17;break;case 11:a.prev=11,a.t0=a.catch(0),r(K.setFilms([])),r(K.setTotalResults(0)),r(K.setBadRequest(!0)),r(K.setLoader(!0));case 17:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(t){return a.apply(this,arguments)}}()},fetchFilm:function(t,e){return function(){var i=Object(P.a)(H.a.mark((function i(n){var a,r;return H.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,V.fetchOneFilm(t);case 3:a=i.sent,r=V.findFilm(e,t),a.rating=r?r.rating:null,n(K.setFilm(a)),n(K.setLoader(!1)),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(0),console.log(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,10]])})));return function(t){return i.apply(this,arguments)}}()},setFilmRating:function(t,e,i,n){return function(){var a=Object(P.a)(H.a.mark((function a(r){var d,c,o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(c=V.findFilm(e,i))){a.next=8;break}c.rating=n,d=n?V.updateRatedFilms(e,i,n):V.deleteRatedFilm(e,i),r(K.setFilms(V.syncFilms(t,d))),r(K.setLastRatedFilm(c)),a.next=15;break;case 8:return(o=V.findFilm(t,i))&&(o.rating=n,d=V.addOrUpdatedRatedFilm(e,o,i,n),r(K.setFilms(V.syncFilms(t,d)))),a.next=12,V.fetchOneFilm(i);case 12:(s=a.sent).rating=n,d=V.addOrUpdatedRatedFilm(e,s,i,n);case 15:r(K.setRatedFilms(d));case 16:case"end":return a.stop()}}),a)})));return function(t){return a.apply(this,arguments)}}()},setCurrentGenres:function(t){return function(e){var i=Array.from(new Set(t.map((function(t){return t.Genre.split(", ")})).flat()));e(K.setGenres(i))}}},X=Object(l.a)(Object(l.a)({},k),K),Z=function(){var t=Object(c.b)();return Object(s.bindActionCreators)(X,t)},$=c.c,tt=i(305),et=Object(tt.a)({wrapper:{paddingTop:"30px","@media (min-width: 500px)":{padding:"0 40px"},"@media (min-width: 750px)":{padding:"0 60px"}},maxWidth:{maxWidth:"1200px","@media (min-width: 2100px)":{maxWidth:"1400px"}}}),it=i(322),nt=i(309),at=i(293),rt={mobileImage:{width:"100vw",marginBottom:"4px",position:"static"},image:{borderRadius:"12px",width:"100%",position:"static"},content:{padding:"10px"},list:{"& li":{borderBottom:"solid 1px #345B63",borderRadius:"3%"},"& li, span":{padding:"4px 0",fontSize:"16px","@media (min-width: 414px)":{fontSize:"11px"},"@media (min-width: 428px)":{fontSize:"12px"},"@media (min-width: 450px)":{fontSize:"13px"},"@media (min-width: 470px)":{padding:"5px 0"},"@media (min-width: 520px)":{padding:"6px 0"},"@media (min-width: 540px)":{fontSize:"14px"},"@media (min-width: 750px)":{fontSize:"15px"},"@media (min-width: 900px)":{fontSize:"19px"},"@media (min-width: 1000px)":{fontSize:"20px"},"@media (min-width: 1200px)":{fontSize:"16px"},"@media (min-width: 2100px)":{fontSize:"21px"}},"@media (min-width: 414px)":{padding:"0 0 0 10px"},"@media (min-width: 600px)":{padding:0}},plot:{fontSize:"18px",lineHeight:1.5,"@media (min-width: 375px)":{fontSize:"19px",lineHeight:1.6},"@media (min-width: 414px)":{padding:"14px 4px"},"@media (min-width: 500px)":{fontSize:"21px",lineHeight:1.8},"@media (min-width: 600px)":{fontSize:"20px",marginTop:"30px",padding:0},"@media (min-width: 900px)":{fontSize:"22px",lineHeight:1.9},"@media (min-width: 1000px)":{fontSize:"23px",lineHeight:2},"@media (min-width: 2100px)":{fontSize:"25px"}},ratingBox:{marginTop:"2px",marginBottom:"10px","& .MuiRating-icon":{fontSize:"30px"},"@media (min-width: 414px)":{marginTop:"4px","& .MuiRating-icon":{fontSize:"34px"}},"@media (min-width: 428px)":{"& .MuiRating-icon":{fontSize:"36px"}},"@media (min-width: 500px)":{"& .MuiRating-icon":{fontSize:"40px"}},"@media (min-width: 600px)":{marginBottom:"16px"},"@media (min-width: 900px)":{marginBottom:"24px"},"@media (min-width: 1200px)":{"& .MuiRating-icon":{fontSize:"46px"}},"@media (min-width: 2100px)":{"& .MuiRating-icon":{fontSize:"52px"}}},normalContainer:{padding:"10px"}},dt=function(t){var e=t.film;return Object(L.jsxs)(it.a,{sx:rt.list,children:[Object(L.jsx)(nt.a,{disableGutters:!0,secondaryAction:e.Year,children:Object(L.jsx)(at.a,{children:"Year"})}),Object(L.jsx)(nt.a,{disableGutters:!0,secondaryAction:e.Country,children:Object(L.jsx)(at.a,{children:"Country"})}),Object(L.jsx)(nt.a,{className:"genre",disableGutters:!0,secondaryAction:e.Genre,children:Object(L.jsx)(at.a,{children:"Genre"})}),Object(L.jsx)(nt.a,{disableGutters:!0,secondaryAction:e.Runtime,children:Object(L.jsx)(at.a,{children:"Runtime"})}),Object(L.jsx)(nt.a,{disableGutters:!0,secondaryAction:e.Director,children:Object(L.jsx)(at.a,{children:"Director"})}),Object(L.jsx)(nt.a,{className:"actors",disableGutters:!0,secondaryAction:e.Actors,children:Object(L.jsx)(at.a,{children:"Actors"})}),Object(L.jsx)(nt.a,{disableGutters:!0,secondaryAction:e.imdbRating,children:Object(L.jsx)(at.a,{children:"IMDb Rating"})})]})},ct=i(310),ot=i(103),st=function(t){var e=t.film,i=t.handleRatingChange;return Object(L.jsxs)(C.a,{children:[e.hasOwnProperty("rating")&&Object(L.jsx)(C.a,{sx:rt.ratingBox,children:Object(L.jsx)(ct.a,{onChange:i,value:e.rating})}),Object(L.jsx)(ot.a,{variant:"h2",children:e.Title})]})},mt=i(323),pt=function(){return Object(L.jsx)(M.a,{container:!0,alignItems:"center",justifyContent:"center",flexGrow:1,children:Object(L.jsx)(mt.a,{})})},lt=function(){var t=$((function(t){return t.film})),e=t.film,i=t.films,n=t.ratedFilms,r=t.loader,d=Z(),c=d.fetchFilm,o=d.setFilm,s=d.setFilmRating,m=d.setLoader,p=Object(O.i)().imdbId;Object(a.useEffect)((function(){return e.imdbID||c(p,n),function(){o({}),m(!0)}}),[]);var x=function(t,a){o(Object(l.a)(Object(l.a)({},e),{},{rating:a})),s(i,n,e.imdbID,a)},u=Object(z.a)("(min-width: 414px)"),h=Object(z.a)("(min-width: 600px)"),j=et();return r?Object(L.jsx)(pt,{}):Object(L.jsx)(M.a,{container:!0,justifyContent:"center",children:Object(L.jsxs)(M.a,{container:!0,direction:"row",className:j.maxWidth,sx:u?rt.normalContainer:void 0,children:[Object(L.jsxs)(M.a,{item:!0,xs:u?6:12,sm:5,md:4,lg:3,sx:{flexDirection:"column"},children:[Object(L.jsx)(G.a,{src:e.Poster,alt:e.Title,style:{paddingTop:0},imageStyle:u?rt.image:rt.mobileImage}),(!u||h)&&Object(L.jsxs)(C.a,{sx:rt.content,children:[(!u||!h)&&Object(L.jsx)(st,{film:e,handleRatingChange:x}),Object(L.jsx)(dt,{film:e})]})]}),u&&!h&&Object(L.jsx)(M.a,{item:!0,xs:6,children:Object(L.jsx)(dt,{film:e})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:7,md:8,lg:9,sx:{flexDirection:"column","@media (min-width: 600px)":{padding:"0 10px"},"@media (min-width: 900px)":{padding:"0 36px"},"@media (min-width: 1200px)":{padding:"0 40px"}},children:Object(L.jsxs)(C.a,{sx:rt.content,children:[u&&Object(L.jsx)(st,{film:e,handleRatingChange:x}),Object(L.jsx)(A.a,{elevation:0,sx:rt.plot,children:e.Plot})]})})]})})},xt=i(324),ut=i(329),ht=i(304),jt=i(301),ft=i(303),bt={searchBar:{backgroundColor:"#D4ECDD",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px",paddingTop:"30px !important","@media (min-width: 500px)":{marginBottom:"30px"},"@media (min-width: 1200px)":{paddingTop:"80px !important"},"@media (min-width: 1800px)":{marginBottom:"40px"},"@media (min-width: 2100px)":{marginBottom:"50px"}},titleInput:{"& .MuiFilledInput-root":{borderTopLeftRadius:"12px",borderTopRightRadius:"12px","@media (min-width: 600px)":{borderTopRightRadius:0}}},yearInput:{"@media (min-width: 600px)":{"& .MuiFilledInput-root":{borderLeft:"solid 1px rgba(0, 0, 0, 0.42)",borderTopRightRadius:"12px"}},"@media (min-width: 900px)":{"& .MuiFilledInput-root":{borderTopRightRadius:0}}},buttonGroup:{height:"56px",width:"100%","& .MuiButton-root":{borderRadius:0,color:"#D4ECDD !important",flex:1}},searchBtn:{borderBottomLeftRadius:"12px !important","@media (min-width: 900px)":{borderBottomLeftRadius:"0 !important"}},resetBtn:{borderBottomRightRadius:"12px !important"}},gt=function(t){var e=t.handleSearch,i=Z(),n=i.setFilms,r=i.setTotalResults,d=i.setBadRequest,c=i.setLoader,o=Object(a.useState)(""),s=Object(W.a)(o,2),m=s[0],p=s[1],x=Object(a.useState)(null),u=Object(W.a)(x,2),h=u[0],j=u[1],f=et();return Object(L.jsx)(M.a,{className:f.wrapper,container:!0,justifyContent:"center",sx:bt.searchBar,children:Object(L.jsxs)(M.a,{className:f.maxWidth,container:!0,alignItems:"center",justifyContent:"center",children:[Object(L.jsx)(M.a,{item:!0,xs:12,lg:2,children:Object(L.jsx)(ot.a,{variant:"h1",children:"MOOVY"})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:8,md:7,lg:5,children:Object(L.jsx)(xt.a,{variant:"filled",color:"success",label:"Title",placeholder:"Type in film title",onChange:function(t){return p(t.target.value)},value:m,sx:bt.titleInput})}),Object(L.jsx)(M.a,{item:!0,xs:12,sm:4,md:2,children:Object(L.jsx)(jt.b,{dateAdapter:ht.a,children:Object(L.jsx)(ft.a,{views:["year"],maxDate:new Date,label:"Year",onChange:function(t){return j(t)},value:h,renderInput:function(t){return Object(L.jsx)(xt.a,Object(l.a)({variant:"filled",color:"success",sx:bt.yearInput},t))}})})}),Object(L.jsx)(M.a,{item:!0,xs:12,md:3,children:Object(L.jsxs)(ut.a,{sx:bt.buttonGroup,children:[Object(L.jsx)(v.a,{variant:"contained",color:"success",sx:bt.searchBtn,onClick:function(){return e(m,h)},children:"Search"}),Object(L.jsx)(v.a,{variant:"contained",color:"error",sx:bt.resetBtn,onClick:function(){p(""),j(null),n([]),r(0),d(!1),c(!0)},children:"Reset"})]})})]})})},Ot=i(330),wt=i(332),St=i(331),Tt={card:{display:"flex",borderRadius:"12px",marginBottom:1,"@media (min-width: 1200px)":{marginBottom:0},maxHeight:"300px"},filmImage:{cursor:"pointer",flex:"1 0 130px",height:200,width:130,maxWidth:130,"@media (min-width: 320px)":{flex:"1 0 138px",width:138,maxWidth:138},"@media (min-width: 900px)":{flex:"1 0 160px",height:230,width:160,maxWidth:160},"@media (min-width: 1200px)":{flex:"1 0 180px",height:250,width:180,maxWidth:180},"@media (min-width: 1800px)":{flex:"1 0 210px",height:280,width:210,maxWidth:210},"@media (min-width: 2100px)":{flex:"1 0 220px",height:300,width:220,maxWidth:220}},content:{flex:"1 0 auto",padding:"12px 12px 0 12px","& .MuiTypography-root":{overflow:"auto",maxHeight:118,"@media (min-width: 1200px)":{maxHeight:140},"@media (min-width: 1800px)":{maxHeight:160},"@media (min-width: 2100px)":{maxHeight:190}},"@media (min-width: 320px)":{padding:"16px 16px 0 16px"}},contentWithGenre:{flex:"1 0 auto",padding:"12px 12px 0 12px","& .MuiTypography-root":{overflow:"auto",maxHeight:98,"@media (min-width: 375px)":{maxHeight:90},"@media (min-width: 1200px)":{maxHeight:130},"@media (min-width: 1800px)":{maxHeight:150},"@media (min-width: 2100px)":{maxHeight:170}},"@media (min-width: 320px)":{padding:"16px 16px 0 16px"}},filmName:{cursor:"pointer",fontSize:21,"@media (min-width: 375px)":{fontSize:23},"@media (min-width: 414px)":{fontSize:25},"@media (min-width: 900px)":{fontSize:27},"@media (min-width: 1200px)":{fontSize:29},"@media (min-width: 1800px)":{fontSize:36}},filmYear:{marginTop:"1px","@media (min-width: 320px)":{marginTop:"3px"},"@media (min-width: 375px)":{marginTop:"6px"},"@media (min-width: 414px)":{fontSize:"18px"},"@media (min-width: 900px)":{fontSize:"19px"},"@media (min-width: 1200px)":{fontSize:"20px"},"@media (min-width: 1800px)":{fontSize:"23px"},"@media (min-width: 2100px)":{fontSize:"24px"}},filmGenre:{lineHeight:1.4},ratingBox:{paddingBottom:"6px",paddingLeft:"10px","@media (min-width: 320px)":{paddingLeft:"12px"}}},Rt=function(t){var e=t.film,i=$((function(t){return t.film})),n=i.films,a=i.ratedFilms,r=Z(),d=r.setFilmRating,c=r.fetchFilm,o=Object(z.a)("(min-width:375px)"),s=Object(z.a)("(min-width:1200px)"),m=Object(O.g)(),p=function(){var t=Object(P.a)(H.a.mark((function t(){return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c(e.imdbID,a);case 2:m.push("/film/".concat(e.imdbID));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(L.jsxs)(Ot.a,{sx:Tt.card,children:[Object(L.jsx)(St.a,{component:"img",image:e.Poster,alt:e.Title,onClick:p,sx:Tt.filmImage}),Object(L.jsxs)(C.a,{sx:{display:"flex",flexDirection:"column",overflow:"auto"},children:[Object(L.jsxs)(wt.a,{sx:e.hasOwnProperty("Genre")?Tt.contentWithGenre:Tt.content,children:[Object(L.jsx)(ot.a,{variant:"h3",sx:Tt.filmName,onClick:p,children:e.Title}),Object(L.jsx)(ot.a,{variant:"subtitle1",component:"div",sx:Tt.filmYear,children:e.Year}),Object(L.jsx)(ot.a,{variant:"subtitle1",component:"div",sx:Tt.filmGenre,children:e.hasOwnProperty("Genre")?e.Genre:""})]}),Object(L.jsx)(C.a,{sx:Tt.ratingBox,children:Object(L.jsx)(ct.a,{size:o&&!s?"medium":s?"large":"small",onChange:function(t,i){return d(n,a,e.imdbID,i)},value:e.rating})})]})]})},Et={grid:{padding:"0 10px","& .MuiGrid-root":{maxWidth:"100%"},"@media (min-width: 414px)":{padding:"0 14px"},"@media (min-width: 500px)":{padding:0}}},vt=function(t){var e=t.films,i=Object(z.a)("(min-width:900px)"),n=Object(z.a)("(min-width:1800px)"),a=et();return Object(L.jsx)(M.a,{className:a.wrapper,container:!0,justifyContent:"center",children:Object(L.jsx)(M.a,{className:i?a.maxWidth:void 0,container:!0,direction:i?"row":"column",spacing:n?3:2,sx:Et.grid,children:e.map((function(t){return Object(L.jsx)(M.a,{item:!0,md:6,children:Object(L.jsx)(Rt,{film:t})},Math.random())}))})})},yt=i(307),Ft=function(t){var e=t.page,i=t.totalResults,n=t.handlePaginationClick,a=Object(z.a)("(min-width:375px)"),r=Object(z.a)("(min-width:600px)"),d=Object(z.a)("(min-width:1000px)");return Object(L.jsx)(M.a,{container:!0,justifyContent:"center",children:Object(L.jsx)(yt.a,{count:Math.ceil(i/10),size:a&&!r?"medium":r?"large":"small",boundaryCount:d?3:1,onChange:n,page:e})})},It=i(302),_t=i(146),Lt=i.n(_t),Dt=i(145),zt=i.n(Dt),Mt=function(t){var e=t.badRequest;return Object(L.jsx)(M.a,{container:!0,alignItems:"center",justifyContent:"center",sx:{height:"50%"},children:Object(L.jsxs)(It.a,{display:"flex",flexDirection:"column",children:[e?Object(L.jsx)(zt.a,{sx:{fontSize:"120px",margin:"0 auto","@media (min-width: 900px)":{fontSize:"150px"}}}):Object(L.jsx)(Lt.a,{sx:{fontSize:"120px",margin:"0 auto","@media (min-width: 900px)":{fontSize:"150px"}}}),Object(L.jsx)(ot.a,{variant:"h2",children:e?"No results found":"Start searching"})]})})},Ct=function(){var t=$((function(t){return t.film})),e=t.films,i=t.totalResults,n=t.ratedFilms,r=t.badRequest,d=t.loader,c=$((function(t){return t.search})),o=c.title,s=c.year,m=c.page,p=Z(),l=p.fetchFilms,x=p.setSearchState,u=p.setPage,h=p.setLoader;return Object(a.useEffect)((function(){h(!0)}),[]),Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(gt,{handleSearch:function(t,e){h(!1),x(t,null===e||void 0===e?void 0:e.getFullYear().toString()),l(t,null===e||void 0===e?void 0:e.getFullYear().toString(),m,n)}}),d&&!r&&0===e.length?Object(L.jsx)(Mt,{badRequest:!1}):r&&0===e.length?Object(L.jsx)(Mt,{badRequest:!0}):d||r||0!==e.length?Object(L.jsx)(vt,{films:e}):Object(L.jsx)(pt,{}),i>10&&Object(L.jsx)(Ft,{page:m,totalResults:i,handlePaginationClick:function(t,e){m!==e&&(l(o,s,e,n),u(e))}})]})},At=i(311),Bt=i(313),Gt=i(328),kt=i(327),Nt=i(306),Ht={formControl:{width:"100% !important",padding:"0 10px","& #genre-label":{marginLeft:"10px"},"@media (min-width: 500px)":{marginTop:"12px",marginBottom:"18px",padding:0,"& #genre-label":{marginLeft:0}},"@media (min-width: 1000px)":{marginTop:"26px",marginBottom:"32px"},"@media (min-width: 1500px)":{marginTop:"30px",marginBottom:"36px"},"@media (min-width: 1800px)":{marginTop:"40px",marginBottom:"44px"},"@media (min-width: 2500px)":{marginTop:"46px",marginBottom:"50px"}}},Wt=function(t){var e=t.genres,i=t.handleSelectChange,n=Object(a.useState)(""),r=Object(W.a)(n,2),d=r[0],c=r[1],o=et();return Object(L.jsx)(M.a,{className:o.wrapper,container:!0,justifyContent:"center",children:Object(L.jsx)(M.a,{className:o.maxWidth,container:!0,children:Object(L.jsxs)(kt.a,{sx:Ht.formControl,children:[Object(L.jsx)(At.a,{id:"genre-label",children:"Genre"}),Object(L.jsxs)(Nt.a,{labelId:"genre-label",label:"Genre",onChange:function(t){c(t.target.value),i(t.target.value)},value:d,children:[Object(L.jsx)(Bt.a,{value:"",children:Object(L.jsx)("em",{children:"None"})}),e.map((function(t){return Object(L.jsx)(Bt.a,{value:t,children:t},t)}))]}),Object(L.jsx)(Gt.a,{children:"Select film genre"})]})})})},Pt=function(){var t=$((function(t){return t.film})),e=t.ratedFilms,i=t.genres,n=t.lastRatedFilm,r=t.films,d=Z(),c=d.setCurrentGenres,o=d.setRatedFilms,s=d.setLastRatedFilm,m=d.setFilms,p=Object(a.useRef)(e),l=Object(a.useRef)([]);Object(a.useEffect)((function(){if(n)return n.rating?void(l.current=p.current.map((function(t){return t.imdbID===n.imdbID?n:t}))):void(l.current=p.current.filter((function(t){return t.imdbID!==n.imdbID})));l.current=p.current}),[n]),Object(a.useEffect)((function(){return s({}),c(e),function(){o(l.current),m(V.syncFilms(r,l.current)),s({})}}),[]);return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Wt,{genres:i,handleSelectChange:function(t){if(t){var e=l.current.filter((function(e){if(e.Genre.split(", ").includes(t))return e}));return o(e)}return o(l.current)}}),Object(L.jsx)(vt,{films:e})]})};!function(t){t.HOME="/",t.FILM="/film/:imdbId",t.RATED="/rated"}(j||(j={}));var Yt=[{path:j.HOME,component:Ct,exact:!0},{path:j.FILM,component:lt},{path:j.RATED,component:Pt,exact:!0}],Ut=function(){return Object(L.jsxs)(O.d,{children:[Yt.map((function(t){return Object(L.jsx)(O.b,Object(l.a)({},t),t.path)})),Object(L.jsx)(O.a,{to:j.HOME})]})},qt=function(){var t=Object(O.h)();return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(w.a,{theme:T,children:[Object(L.jsx)(D,{}),Object(L.jsx)(Ut,{})]})})};i(214);d.a.render(Object(L.jsx)(c.a,{store:g,children:Object(L.jsx)(o.a,{children:Object(L.jsx)(qt,{})})}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.a6902f40.chunk.js.map